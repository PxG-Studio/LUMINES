"use strict";(()=>{var e={};e.id=1167,e.ids=[1167],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8678:e=>{e.exports=import("pg")},87654:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>u,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m});var a=r(49303),n=r(88716),o=r(60670),s=r(42886),p=e([s]);s=(p.then?(await p)():p)[0];let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/v1/route",pathname:"/api/v1",filename:"route",bundlePath:"app/api/v1/route"},resolvedPagePath:"/home/cursor-dev/Documents/Lumines/src/app/api/v1/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:l}=c,v="/api/v1/route";function u(){return(0,o.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}i()}catch(e){i(e)}})},42886:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{GET:()=>s});var a=r(87070),n=r(87292);!function(){var e=Error("Cannot find module '@/lib/rate-limiting/limiter'");throw e.code="MODULE_NOT_FOUND",e}();var o=e([n]);n=(o.then?(await o)():o)[0];let s=(0,n.withAuth)(async(e,t)=>{let{userId:r}=t,i=Object(function(){var e=Error("Cannot find module '@/lib/rate-limiting/limiter'");throw e.code="MODULE_NOT_FOUND",e}())(),n=i.checkLimit(`api:${r}`,Object(function(){var e=Error("Cannot find module '@/lib/rate-limiting/limiter'");throw e.code="MODULE_NOT_FOUND",e}()).api);return n.allowed?(i.recordRequest(`api:${r}`,!0),a.NextResponse.json({version:"1.0.0",endpoints:{projects:"/api/v1/projects",files:"/api/v1/files",assets:"/api/v1/assets",generate:"/api/v1/generate"},documentation:"https://docs.spark.example.com/api/v1"})):a.NextResponse.json({error:"Rate limit exceeded",retryAfter:n.retryAfter},{status:429,headers:{"X-RateLimit-Limit":Object(function(){var e=Error("Cannot find module '@/lib/rate-limiting/limiter'");throw e.code="MODULE_NOT_FOUND",e}()).api.maxRequests.toString(),"X-RateLimit-Remaining":n.remaining.toString(),"X-RateLimit-Reset":new Date(n.resetTime).toISOString(),"Retry-After":n.retryAfter?.toString()||"60"}})});i()}catch(e){i(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9276,5972,691,7292],()=>r(87654));module.exports=i})();