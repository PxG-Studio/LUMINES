/*! For license information please see GameDev-UnityIntegration-stories.a9435cc3.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunklumines_wissil=self.webpackChunklumines_wissil||[]).push([[8760],{"./node_modules/lucide-react/dist/esm/createLucideIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createLucideIcon});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const createLucideIcon=(iconName,iconNode)=>{const Component=(0,react.forwardRef)(({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,className="",children,...rest},ref)=>{return(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:["lucide",`lucide-${string=iconName,string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,className].join(" "),...rest},[...iconNode.map(([tag,attrs])=>(0,react.createElement)(tag,attrs)),...Array.isArray(children)?children:[children]]);var string});return Component.displayName=`${iconName}`,Component}},"./node_modules/lucide-react/dist/esm/icons/play.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Play});const Play=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},"./node_modules/lucide-react/dist/esm/icons/refresh-cw.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RefreshCw});const RefreshCw=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},"./node_modules/lucide-react/dist/esm/icons/square.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Square});const Square=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},"./src/stories/Editor/GameDev/UnityIntegration.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Loading:()=>Loading,WithHandlers:()=>WithHandlers,__namedExportsOrder:()=>__namedExportsOrder,default:()=>UnityIntegration_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),play=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/play.js"),square=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/square.js"),refresh_cw=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/refresh-cw.js"),__jsx=react.createElement,UnityIntegration_UnityIntegration=function UnityIntegration(_ref){var _ref$buildUrl=_ref.buildUrl,buildUrl=void 0===_ref$buildUrl?"/unity/Build":_ref$buildUrl,_ref$loaderUrl=_ref.loaderUrl,loaderUrl=void 0===_ref$loaderUrl?"/unity/Build.loader.js":_ref$loaderUrl,onReady=_ref.onReady,onError=_ref.onError,onProgress=_ref.onProgress,containerRef=(0,react.useRef)(null),_useState=(0,react.useState)(null),unityInstance=_useState[0],setUnityInstance=_useState[1],_useState2=(0,react.useState)(!1),isLoading=_useState2[0],setIsLoading=_useState2[1],_useState3=(0,react.useState)(!1),isPlaying=_useState3[0],setIsPlaying=_useState3[1],_useState4=(0,react.useState)(0),progress=_useState4[0],setProgress=_useState4[1];(0,react.useEffect)(function(){if(containerRef.current){var loadUnity=function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(){var script,err,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setIsLoading(!0),(script=document.createElement("script")).src=loaderUrl,script.async=!0,script.onload=function(){window.createUnityInstance&&window.createUnityInstance(containerRef.current,{dataUrl:"".concat(buildUrl,".data"),frameworkUrl:"".concat(buildUrl,".framework.js"),codeUrl:"".concat(buildUrl,".wasm"),streamingAssetsUrl:"StreamingAssets",companyName:"WISSIL",productName:"Game Dev IDE",productVersion:"1.0.0"},function(progress){setProgress(progress),null==onProgress||onProgress(progress)}).then(function(instance){setUnityInstance(instance),setIsLoading(!1),null==onReady||onReady(instance)}).catch(function(error){setIsLoading(!1),null==onError||onError(error)})},script.onerror=function(){var error=new Error("Failed to load Unity WebGL loader");setIsLoading(!1),null==onError||onError(error)},document.body.appendChild(script),_context.abrupt("return",function(){document.body.removeChild(script)});case 1:_context.prev=1,_t=_context.catch(0),err=_t instanceof Error?_t:new Error("Failed to initialize Unity"),setIsLoading(!1),null==onError||onError(err);case 2:case"end":return _context.stop()}},_callee,null,[[0,1]])}));return function loadUnity(){return _ref2.apply(this,arguments)}}();loadUnity()}},[buildUrl,loaderUrl,onReady,onError,onProgress]);var handlePlay=(0,react.useCallback)(function(){unityInstance&&(unityInstance.SendMessage("GameManager","Play"),setIsPlaying(!0))},[unityInstance]),handleStop=(0,react.useCallback)(function(){unityInstance&&(unityInstance.SendMessage("GameManager","Stop"),setIsPlaying(!1))},[unityInstance]),handleReload=(0,react.useCallback)(function(){unityInstance&&unityInstance.SendMessage("GameManager","Reload")},[unityInstance]);return __jsx("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,overflow:"hidden"}},__jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--slate-panel, #16181d)",borderBottom:"1px solid var(--slate-border, #26292f)"}},__jsx("div",{style:{display:"flex",alignItems:"center",gap:8}},__jsx("span",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)"}},"Unity Runtime"),isLoading&&__jsx("span",{style:{fontSize:11,color:"var(--slate-text-muted, #9ba1aa)"}},"Loading... ",Math.round(100*progress),"%")),__jsx("div",{style:{display:"flex",alignItems:"center",gap:4}},isPlaying?__jsx("button",{onClick:handleStop,style:{padding:"6px 12px",background:"#ef4444",border:"none",borderRadius:4,color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:12}},__jsx(square.A,{size:14}),"Stop"):__jsx("button",{onClick:handlePlay,disabled:!unityInstance||isLoading,style:{padding:"6px 12px",background:"var(--slate-accent, #3f8cff)",border:"none",borderRadius:4,color:"#FFFFFF",cursor:unityInstance&&!isLoading?"pointer":"not-allowed",opacity:unityInstance&&!isLoading?1:.5,display:"flex",alignItems:"center",gap:4,fontSize:12}},__jsx(play.A,{size:14}),"Play"),__jsx("button",{onClick:handleReload,disabled:!unityInstance||isLoading,style:{padding:"6px 12px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:unityInstance&&!isLoading?"pointer":"not-allowed",opacity:unityInstance&&!isLoading?1:.5,display:"flex",alignItems:"center",gap:4,fontSize:12}},__jsx(refresh_cw.A,{size:14})))),__jsx("div",{ref:containerRef,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"#000000",position:"relative"}},isLoading&&__jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#FFFFFF",fontSize:14}},"Loading Unity... ",Math.round(100*progress),"%")))};UnityIntegration_UnityIntegration.displayName="UnityIntegration";try{UnityIntegration_UnityIntegration.displayName="UnityIntegration",UnityIntegration_UnityIntegration.__docgenInfo={description:"",displayName:"UnityIntegration",props:{buildUrl:{defaultValue:{value:"/unity/Build"},description:"",name:"buildUrl",required:!1,type:{name:"string | undefined"}},loaderUrl:{defaultValue:{value:"/unity/Build.loader.js"},description:"",name:"loaderUrl",required:!1,type:{name:"string | undefined"}},onReady:{defaultValue:null,description:"",name:"onReady",required:!1,type:{name:"((instance: UnityInstance) => void) | undefined"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void) | undefined"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: number) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/editor/gamedev/UnityIntegration.tsx#UnityIntegration"]={docgenInfo:UnityIntegration_UnityIntegration.__docgenInfo,name:"UnityIntegration",path:"src/editor/gamedev/UnityIntegration.tsx#UnityIntegration"})}catch(__react_docgen_typescript_loader_error){}var ThemeProvider=__webpack_require__("./src/design-system/themes/ThemeProvider.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js"),UnityIntegration_stories_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}const UnityIntegration_stories={title:"Lumenforge.io Design System/Application Pages/GameDev/UnityIntegration",component:UnityIntegration_UnityIntegration,parameters:{layout:"fullscreen",chromatic:{diffThreshold:.02,delay:3e3,pauseAnimationAtEnd:!0},docs:{description:{component:"\n# Unity Integration\n\nIntegration with Unity WebGL runtime for game development.\n\n## Features\n\n- **Unity WebGL Loading**: Loads Unity builds in the browser\n- **Play/Stop Controls**: Control game execution\n- **Scene Reload**: Reload Unity scenes\n- **Progress Tracking**: Shows loading progress\n\n## Usage\n\n```tsx\n<UnityIntegration\n  buildUrl=\"/unity/Build\"\n  loaderUrl=\"/unity/Build.loader.js\"\n  onReady={(instance) => {\n    // Unity is ready\n    instance.SendMessage('GameManager', 'Play');\n  }}\n/>\n```\n        "}}},tags:["autodocs"],decorators:[function(Story){return UnityIntegration_stories_jsx(ThemeProvider.N,null,UnityIntegration_stories_jsx("div",{style:{height:"100vh",width:"100vw"}},UnityIntegration_stories_jsx(Story,null)))}]};var Default={args:{buildUrl:"/unity/Build",loaderUrl:"/unity/Build.loader.js"},parameters:{chromatic:{disableSnapshot:!0}}},WithHandlers={args:_objectSpread(_objectSpread({},Default.args),{},{onReady:function onReady(instance){console.log("Unity ready:",instance)},onProgress:function onProgress(progress){console.log("Loading progress:",progress)},onError:function onError(error){console.error("Unity error:",error)}}),parameters:{chromatic:{disableSnapshot:!0}}},Loading={args:_objectSpread({},Default.args),parameters:{chromatic:{delay:500}}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    buildUrl: '/unity/Build',\n    loaderUrl: '/unity/Build.loader.js'\n  },\n  parameters: {\n    chromatic: {\n      disableSnapshot: true // Unity canvas is dynamic\n    }\n  }\n}",...Default.parameters?.docs?.source}}},WithHandlers.parameters={...WithHandlers.parameters,docs:{...WithHandlers.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    onReady: instance => {\n      console.log('Unity ready:', instance);\n    },\n    onProgress: progress => {\n      console.log('Loading progress:', progress);\n    },\n    onError: error => {\n      console.error('Unity error:', error);\n    }\n  },\n  parameters: {\n    chromatic: {\n      disableSnapshot: true\n    }\n  }\n}",...WithHandlers.parameters?.docs?.source}}},Loading.parameters={...Loading.parameters,docs:{...Loading.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args\n  },\n  parameters: {\n    chromatic: {\n      delay: 500 // Capture loading state\n    }\n  }\n}",...Loading.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithHandlers","Loading"];try{UnityIntegration.displayName="UnityIntegration",UnityIntegration.__docgenInfo={description:"",displayName:"UnityIntegration",props:{buildUrl:{defaultValue:{value:"/unity/Build"},description:"",name:"buildUrl",required:!1,type:{name:"string | undefined"}},loaderUrl:{defaultValue:{value:"/unity/Build.loader.js"},description:"",name:"loaderUrl",required:!1,type:{name:"string | undefined"}},onReady:{defaultValue:null,description:"",name:"onReady",required:!1,type:{name:"((instance: UnityInstance) => void) | undefined"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void) | undefined"}},onProgress:{defaultValue:null,description:"",name:"onProgress",required:!1,type:{name:"((progress: number) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/Editor/GameDev/UnityIntegration.stories.tsx#UnityIntegration"]={docgenInfo:UnityIntegration.__docgenInfo,name:"UnityIntegration",path:"src/stories/Editor/GameDev/UnityIntegration.stories.tsx#UnityIntegration"})}catch(__react_docgen_typescript_loader_error){}}}]);