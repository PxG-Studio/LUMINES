"use strict";(self.webpackChunklumines_wissil=self.webpackChunklumines_wissil||[]).push([[9506],{"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _arrayWithHoles(r){if(Array.isArray(r))return r}__webpack_require__.d(__webpack_exports__,{A:()=>_arrayWithHoles})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}__webpack_require__.d(__webpack_exports__,{A:()=>_nonIterableRest})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_slicedToArray});var arrayWithHoles=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),nonIterableRest=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function _slicedToArray(r,e){return(0,arrayWithHoles.A)(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||(0,unsupportedIterableToArray.A)(r,e)||(0,nonIterableRest.A)()}},"./src/wissil/Slate/components/FileTreeState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>regenerateTree});var _wissil_runtime_fs_wissilFs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/wissil/runtime/fs/wissilFs.ts"),zustand__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/zustand/esm/index.mjs"),buildTree=function buildTree(){return function walk(folder,path){return Object.keys(folder.children).sort(function(a,b){var aNode=folder.children[a],bNode=folder.children[b];return"folder"===aNode.type&&"folder"!==bNode.type?-1:"folder"!==aNode.type&&"folder"===bNode.type?1:a.localeCompare(b)}).map(function(key){var node=folder.children[key],nodePath=path?"".concat(path,"/").concat(key):key;return"folder"===node.type?{name:key,path:nodePath,children:walk(node,nodePath)}:{name:key,path:nodePath}})}(_wissil_runtime_fs_wissilFs__WEBPACK_IMPORTED_MODULE_0__.C.getState().getSnapshot(),"")},useFileTreeState=(0,zustand__WEBPACK_IMPORTED_MODULE_1__.vt)(function(set){return{tree:[],regenerateTree:function regenerateTree(){return set({tree:buildTree()})}}}),regenerateTree=function regenerateTree(){useFileTreeState.getState().regenerateTree()}},"./src/wissil/Slate/editor/openFile.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>openFile});var _useEditorTabs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/wissil/Slate/editor/useEditorTabs.ts"),_state_editorState__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/state/editorState.ts"),_wissil_runtime_fs_wissilFs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/wissil/runtime/fs/wissilFs.ts");function openFile(path){var code=_wissil_runtime_fs_wissilFs__WEBPACK_IMPORTED_MODULE_2__.C.getState().readFile(path);return _state_editorState__WEBPACK_IMPORTED_MODULE_1__.e.getState().setSelectedFile(path),_useEditorTabs__WEBPACK_IMPORTED_MODULE_0__.D.getState().open(path),code}},"./src/wissil/Slate/editor/useEditorTabs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>useEditorTabs});var _home_runner_work_LUMINES_LUMINES_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),useEditorTabs=(0,__webpack_require__("./node_modules/zustand/esm/index.mjs").vt)(function(set){return{openFiles:[],activeFile:null,open:function open(file){return set(function(s){return{openFiles:s.openFiles.includes(file)?s.openFiles:[].concat((0,_home_runner_work_LUMINES_LUMINES_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__.A)(s.openFiles),[file]),activeFile:file}})},close:function close(file){return set(function(s){var newFiles=s.openFiles.filter(function(f){return f!==file});return{openFiles:newFiles,activeFile:s.activeFile===file?newFiles.length>0?newFiles[0]:null:s.activeFile}})},setActive:function setActive(file){return set(function(s){return{activeFile:s.openFiles.includes(file)?file:s.activeFile}})}}})},"./src/wissil/Spark/SparkComponents.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithCallback:()=>WithCallback,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SparkComponents_stories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Card=__webpack_require__("./src/design-system/primitives/Card.tsx"),ThemeProvider=__webpack_require__("./src/design-system/themes/ThemeProvider.tsx"),__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function TemplateCard(_ref){var icon=_ref.icon,name=_ref.name,description=_ref.description,onSelect=_ref.onSelect,className=_ref.className,style=_ref.style,theme=(0,ThemeProvider.D)();return __jsx(Card.Z,{className,style:_objectSpread({cursor:"pointer",transition:"all 0.15s ease",background:theme.colors.bg1,padding:theme.spacing.lg,height:"100%",display:"flex",flexDirection:"column"},style),onClick:onSelect,onMouseEnter:function onMouseEnter(e){e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=theme.shadows.strong,e.currentTarget.style.borderColor=theme.colors.accent},onMouseLeave:function onMouseLeave(e){e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=theme.shadows.subtle,e.currentTarget.style.borderColor=theme.colors.border}},__jsx("div",{style:{fontSize:32,marginBottom:theme.spacing.md,lineHeight:1}},icon),__jsx("h3",{style:{margin:0,fontSize:theme.typography.size.lg,fontWeight:theme.typography.weight.semibold,color:theme.colors.text0,marginBottom:theme.spacing.sm}},name),__jsx("p",{style:{margin:0,marginTop:theme.spacing.xs,color:theme.colors.text2,fontSize:theme.typography.size.sm,lineHeight:1.6,flex:1}},description))}TemplateCard.displayName="TemplateCard";try{TemplateCard.displayName="TemplateCard",TemplateCard.__docgenInfo={description:"",displayName:"TemplateCard",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/wissil/Spark/TemplateCard.tsx#TemplateCard"]={docgenInfo:TemplateCard.__docgenInfo,name:"TemplateCard",path:"src/wissil/Spark/TemplateCard.tsx#TemplateCard"})}catch(__react_docgen_typescript_loader_error){}var sparkActions=__webpack_require__("./src/wissil/Spark/loader/sparkActions.ts"),TemplateGrid_jsx=react.createElement;function TemplateGrid_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function TemplateGrid_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?TemplateGrid_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):TemplateGrid_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function TemplateGrid(_ref){var _onSelect=_ref.onSelect,className=_ref.className,style=_ref.style,theme=(0,ThemeProvider.D)(),templates=(0,sparkActions.L)();return TemplateGrid_jsx("div",{className,style:TemplateGrid_objectSpread({display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:theme.spacing.xl,paddingTop:theme.spacing.lg},style)},templates.map(function(t){return TemplateGrid_jsx(TemplateCard,{key:t.id,icon:t.icon||"üìÑ",name:t.label,description:t.description,onSelect:function onSelect(){return _onSelect(t.id)}})}))}TemplateGrid.displayName="TemplateGrid";try{TemplateGrid.displayName="TemplateGrid",TemplateGrid.__docgenInfo={description:"",displayName:"TemplateGrid",props:{onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(id: string) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/wissil/Spark/TemplateGrid.tsx#TemplateGrid"]={docgenInfo:TemplateGrid.__docgenInfo,name:"TemplateGrid",path:"src/wissil/Spark/TemplateGrid.tsx#TemplateGrid"})}catch(__react_docgen_typescript_loader_error){}var Button=__webpack_require__("./src/design-system/primitives/Button.tsx"),QuickActionsBar_jsx=react.createElement;function QuickActionsBar_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function QuickActionsBar_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?QuickActionsBar_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QuickActionsBar_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function QuickActionsBar(_ref){var onNewProject=_ref.onNewProject,onImportRepo=_ref.onImportRepo,onOpenFilesystem=_ref.onOpenFilesystem,className=_ref.className,style=_ref.style,theme=(0,ThemeProvider.D)();return QuickActionsBar_jsx("div",{className,style:QuickActionsBar_objectSpread({display:"flex",gap:theme.spacing.md,marginTop:theme.spacing.xl,marginBottom:theme.spacing.md},style)},QuickActionsBar_jsx(Button.$,{variant:"accent",onClick:onNewProject||function(){return alert("New Project placeholder - Phase 4")},style:{padding:"8px 16px"}},"New Project"),QuickActionsBar_jsx(Button.$,{variant:"ghost",onClick:onImportRepo||function(){return alert("Import Repo placeholder - Phase 4")},style:{padding:"8px 16px"}},"Import Repo"),QuickActionsBar_jsx(Button.$,{variant:"ghost",onClick:onOpenFilesystem||function(){return alert("Open Filesystem placeholder - Phase 4")},style:{padding:"8px 16px"}},"Open Filesystem"))}QuickActionsBar.displayName="QuickActionsBar";try{QuickActionsBar.displayName="QuickActionsBar",QuickActionsBar.__docgenInfo={description:"",displayName:"QuickActionsBar",props:{onNewProject:{defaultValue:null,description:"",name:"onNewProject",required:!1,type:{name:"(() => void) | undefined"}},onImportRepo:{defaultValue:null,description:"",name:"onImportRepo",required:!1,type:{name:"(() => void) | undefined"}},onOpenFilesystem:{defaultValue:null,description:"",name:"onOpenFilesystem",required:!1,type:{name:"(() => void) | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/wissil/Spark/QuickActionsBar.tsx#QuickActionsBar"]={docgenInfo:QuickActionsBar.__docgenInfo,name:"QuickActionsBar",path:"src/wissil/Spark/QuickActionsBar.tsx#QuickActionsBar"})}catch(__react_docgen_typescript_loader_error){}var console=__webpack_require__("./node_modules/console-browserify/index.js"),SparkLayout_jsx=react.createElement;function SparkLayout_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function SparkLayout_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SparkLayout_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SparkLayout_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function SparkLayout(_ref){var onTemplateSelect=_ref.onTemplateSelect,className=_ref.className,style=_ref.style,theme=(0,ThemeProvider.D)();return SparkLayout_jsx("div",{className,style:SparkLayout_objectSpread({minHeight:"100vh",width:"100%",background:theme.colors.bg0,color:theme.colors.text0,padding:"".concat(2*theme.spacing.xl,"px ").concat(theme.spacing.xl)},style)},SparkLayout_jsx("h1",{style:{margin:0,fontSize:"36px",fontWeight:theme.typography.weight.semibold,color:theme.colors.text0}},"Starter Templates"),SparkLayout_jsx("p",{style:{color:theme.colors.text2,marginTop:theme.spacing.md,fontSize:theme.typography.size.md,maxWidth:"600px"}},"Choose a starting point. Spark lets you bootstrap a working environment instantly."),SparkLayout_jsx(QuickActionsBar,null),SparkLayout_jsx(TemplateGrid,{onSelect:function handleTemplateSelect(id){var template=(0,sparkActions.L)().find(function(t){return t.id===id});template?onTemplateSelect?onTemplateSelect(id,template):Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./src/wissil/Spark/loader/sparkActions.ts")).then(function(_ref2){(0,_ref2.startTemplateById)(id)}):console.warn('Template "'.concat(id,'" not found'))}}))}SparkLayout.displayName="SparkLayout";try{SparkLayout.displayName="SparkLayout",SparkLayout.__docgenInfo={description:"",displayName:"SparkLayout",props:{onTemplateSelect:{defaultValue:null,description:"",name:"onTemplateSelect",required:!1,type:{name:"((id: string, template: any) => void) | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/wissil/Spark/SparkLayout.tsx#SparkLayout"]={docgenInfo:SparkLayout.__docgenInfo,name:"SparkLayout",path:"src/wissil/Spark/SparkLayout.tsx#SparkLayout"})}catch(__react_docgen_typescript_loader_error){}var SparkComponents_stories_console=__webpack_require__("./node_modules/console-browserify/index.js"),SparkComponents_stories_jsx=react.createElement;const SparkComponents_stories={title:"Lumenforge.io Design System/WIS2L Framework/Spark/Shared Framework Components/SparkComponents",component:SparkLayout,decorators:[function(Story){return SparkComponents_stories_jsx(ThemeProvider.N,null,SparkComponents_stories_jsx(Story,null))}],parameters:{layout:"fullscreen",backgrounds:{default:"dark"}},tags:["autodocs"]};var Default={},WithCallback={args:{onTemplateSelect:function onTemplateSelect(id,template){SparkComponents_stories_console.log("Template selected:",id,template)}}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}},WithCallback.parameters={...WithCallback.parameters,docs:{...WithCallback.parameters?.docs,source:{originalSource:'{\n  args: {\n    onTemplateSelect: (id, template) => {\n      console.log("Template selected:", id, template);\n    }\n  }\n}',...WithCallback.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithCallback"]},"./src/wissil/Spark/loader/sparkActions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>getAllTemplates,startTemplateById:()=>startTemplateById});var sparkTemplates_SparkTemplates=[{id:"blank-ts",label:"Blank TypeScript",description:"Minimal TS starter with an empty main() entry.",entry:"src/main.ts",icon:"üìù",files:{"src/main.ts":'console.log("Hello from WISSIL!");'.trim(),"index.html":'<!DOCTYPE html>\n<html>\n  <body>\n    <script type="module" src="./src/main.ts"><\/script>\n  </body>\n</html>'.trim()}},{id:"p5js",label:"p5.js Starter",description:"A simple p5.js sketch with setup() and draw().",entry:"src/sketch.js",icon:"üé®",files:{"src/sketch.js":'import p5 from "https://cdn.jsdelivr.net/npm/p5@1.6.0/+esm";\n\nnew p5((sk) => {\n  sk.setup = () => {\n    sk.createCanvas(400, 400);\n  };\n\n  sk.draw = () => {\n    sk.background(220);\n    sk.circle(200, 200, 80);\n  };\n});'.trim(),"index.html":'<!DOCTYPE html>\n<html>\n  <body style="margin:0;">\n    <script type="module" src="./src/sketch.js"><\/script>\n  </body>\n</html>'.trim()}},{id:"unity-webgl",label:"Unity WebGL Template",description:"Loads Unity WebGL player in Ignis.",entry:"src/main.ts",icon:"üéÆ",files:{"src/main.ts":'console.log("Unity WebGL preview active.");\n// Unity handled via Ignis panel, nothing to initialize here.'.trim()}}],slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),wissilFs=__webpack_require__("./src/wissil/runtime/fs/wissilFs.ts"),openFile=__webpack_require__("./src/wissil/Slate/editor/openFile.ts"),ignitionController=__webpack_require__("./src/wissil/runtime/ignition/ignitionController.ts"),FileTreeState=__webpack_require__("./src/wissil/Slate/components/FileTreeState.ts");var console=__webpack_require__("./node_modules/console-browserify/index.js");function startTemplateById(id){var template=sparkTemplates_SparkTemplates.find(function(t){return t.id===id});template?function loadSparkTemplate(template){var fs=wissilFs.C.getState();fs.hydrate({type:"folder",children:{}});for(var _i=0,_Object$entries=Object.entries(template.files);_i<_Object$entries.length;_i++){var _Object$entries$_i=(0,slicedToArray.A)(_Object$entries[_i],2),path=_Object$entries$_i[0],content=_Object$entries$_i[1];fs.writeFile(path,content)}(0,FileTreeState.D)(),(0,openFile.T)(template.entry),setTimeout(function(){ignitionController.K.run(template.entry)},500)}(template):console.warn('Template with id "'.concat(id,'" not found'))}function getAllTemplates(){return sparkTemplates_SparkTemplates}}}]);