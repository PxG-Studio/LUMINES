import{c as ve,r as n,R as G,j as e,h as be,o as je}from"./iframe-BXkX_8oL.js";import{A as we}from"./AppShell-DtP9LtO4.js";import{T as ke}from"./TopBar-IF7Bn62b.js";import{F as Se}from"./FileTree-Cle7a5tZ.js";import{c as I}from"./createLucideIcon-kSpmkMCE.js";import{X as O}from"./x-BrWRloni.js";import{F as H}from"./index-CK8k0bZz.js";import{u as D}from"./wissilFs-D_4fnc1y.js";import{S as Fe}from"./SearchReplace-cZtd_Djc.js";import{_ as Ce}from"./preload-helper-C1FmrZbK.js";import{R as fe,S as ze,P as _e}from"./square-BBxQQJRg.js";import{S as ie}from"./SplitPane-DnPtLZ3c.js";import{G as B,C as ge}from"./git-branch-DExO_pBL.js";import{C as Ee}from"./chevron-down-CpZuDMZN.js";import{C as Me}from"./chevron-right-MEu87n6w.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=I("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=I("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=I("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=I("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=I("FileDiff",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M9 10h6",key:"9gxzsh"}],["path",{d:"M12 13V7",key:"h0r20n"}],["path",{d:"M9 17h6",key:"r8uit2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=I("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=I("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=I("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=I("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=I("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=I("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=I("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=I("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),N=ve((r,a)=>({openFiles:[],activeFilePath:null,activeEditor:null,openFile:(t,f)=>{const{openFiles:o}=a();if(o.find(l=>l.path===t)){r({activeFilePath:t});return}const d={path:t,language:f,isDirty:!1};r({openFiles:[...o,d],activeFilePath:t})},closeFile:t=>{var l;const{openFiles:f,activeFilePath:o}=a(),s=f.filter(v=>v.path!==t);let d=o;if(o===t){const v=f.findIndex(i=>i.path===t);if(s.length>0){const i=v<s.length?v:s.length-1;d=((l=s[i])==null?void 0:l.path)||null}else d=null}r({openFiles:s,activeFilePath:d,activeEditor:d===o?null:a().activeEditor})},setActiveFile:t=>{r({activeFilePath:t})},setActiveEditor:(t,f)=>{r({activeEditor:t,activeFilePath:f})},markDirty:t=>{const{openFiles:f}=a(),o=f.map(s=>s.path===t?{...s,isDirty:!0}:s);r({openFiles:o})},markClean:t=>{const{openFiles:f}=a(),o=f.map(s=>s.path===t?{...s,isDirty:!1,lastSaved:new Date}:s);r({openFiles:o})},isDirty:t=>{const{openFiles:f}=a(),o=f.find(s=>s.path===t);return(o==null?void 0:o.isDirty)||!1},hasUnsavedChanges:()=>{const{openFiles:t}=a();return t.some(f=>f.isDirty)},closeAllFiles:()=>{r({openFiles:[],activeFilePath:null,activeEditor:null})},closeOtherFiles:t=>{const{openFiles:f}=a(),o=f.filter(s=>s.path===t);r({openFiles:o,activeFilePath:t})}})),K=({onTabSelect:r,onTabClose:a,onTabPin:t,showPreview:f=!0})=>{const{openFiles:o,activeFilePath:s,closeFile:d,closeOtherFiles:l,closeAllFiles:v}=N(),[i,h]=n.useState(new Set),[b,p]=n.useState(null),[g,c]=n.useState(null),j=n.useRef(null),w=G.useMemo(()=>{const y=o.filter(F=>i.has(F.path)),k=o.filter(F=>!i.has(F.path));return[...y,...k]},[o,i]),x=n.useCallback(y=>{r==null||r(y),N.getState().setActiveFile(y)},[r]),_=n.useCallback((y,k)=>{y.stopPropagation(),i.has(k)&&h(F=>{const E=new Set(F);return E.delete(k),E}),d(k),a==null||a(k)},[d,a,i]),R=n.useCallback((y,k)=>{y.stopPropagation();const F=!i.has(k);h(E=>{const P=new Set(E);return F?P.add(k):P.delete(k),P}),t==null||t(k,F)},[t,i]),V=n.useCallback((y,k)=>{y.preventDefault(),y.stopPropagation(),c({visible:!0,x:y.clientX,y:y.clientY,tabPath:k})},[]);n.useEffect(()=>{const y=k=>{j.current&&!j.current.contains(k.target)&&c(null)};if(g)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[g]);const z=()=>{g&&(_({stopPropagation:()=>{}},g.tabPath),c(null))},C=()=>{g&&(l(g.tabPath),c(null))},m=()=>{v(),c(null)},u=()=>{g&&(R({stopPropagation:()=>{}},g.tabPath),c(null))},S=y=>y.path.split("/").pop()||y.path,M=y=>{var F;const k=(F=y.path.split(".").pop())==null?void 0:F.toLowerCase();return["ts","tsx","js","jsx"].includes(k||"")?"ðŸ“„":["css","scss"].includes(k||"")?"ðŸŽ¨":["json"].includes(k||"")?"ðŸ“‹":["md","mdx"].includes(k||"")?"ðŸ“":"ðŸ“„"};return e.jsxs("div",{style:{display:"flex",alignItems:"center",background:"var(--slate-panel, #16181d)",borderBottom:"1px solid var(--slate-border, #26292f)",height:36,overflowX:"auto",overflowY:"hidden"},children:[w.map(y=>{const k=y.path===s,F=i.has(y.path),E=b===y.path;return e.jsxs("div",{onMouseEnter:()=>p(y.path),onMouseLeave:()=>p(null),onContextMenu:P=>V(P,y.path),onClick:()=>x(y.path),style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",background:k?"var(--slate-bg, #0f1115)":E?"var(--slate-panel-hover, #1e2127)":"transparent",borderBottom:k?"2px solid var(--slate-accent, #3f8cff)":"2px solid transparent",cursor:"pointer",userSelect:"none",minWidth:120,maxWidth:240,position:"relative"},children:[F&&e.jsx(de,{size:12,style:{color:"var(--slate-text-muted, #9ba1aa)",flexShrink:0}}),e.jsx("span",{style:{fontSize:12,flexShrink:0},children:M(y)}),e.jsx("span",{style:{fontSize:12,color:k?"var(--slate-text, #e4e7eb)":"var(--slate-text-muted, #9ba1aa)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},children:S(y)}),y.isDirty&&e.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--slate-accent, #3f8cff)",flexShrink:0}}),(E||k)&&e.jsx("button",{onClick:P=>_(P,y.path),style:{padding:2,background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",color:"var(--slate-text-muted, #9ba1aa)",flexShrink:0},onMouseEnter:P=>{P.currentTarget.style.color="var(--slate-text, #e4e7eb)"},onMouseLeave:P=>{P.currentTarget.style.color="var(--slate-text-muted, #9ba1aa)"},children:e.jsx(O,{size:12})})]},y.path)}),g&&e.jsxs("div",{ref:j,style:{position:"fixed",left:g.x,top:g.y,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",zIndex:1e3,minWidth:180,padding:4},children:[e.jsx("button",{onClick:u,style:{width:"100%",padding:"6px 12px",background:"transparent",border:"none",textAlign:"left",color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12,display:"flex",alignItems:"center",gap:8},onMouseEnter:y=>{y.currentTarget.style.background="var(--slate-panel-hover, #1e2127)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent"},children:i.has(g.tabPath)?e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:14}),"Unpin"]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{size:14}),"Pin"]})}),e.jsxs("button",{onClick:z,style:{width:"100%",padding:"6px 12px",background:"transparent",border:"none",textAlign:"left",color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12,display:"flex",alignItems:"center",gap:8},onMouseEnter:y=>{y.currentTarget.style.background="var(--slate-panel-hover, #1e2127)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent"},children:[e.jsx(O,{size:14}),"Close"]}),e.jsx("div",{style:{height:1,background:"var(--slate-border, #26292f)",margin:"4px 0"}}),e.jsx("button",{onClick:C,style:{width:"100%",padding:"6px 12px",background:"transparent",border:"none",textAlign:"left",color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12},onMouseEnter:y=>{y.currentTarget.style.background="var(--slate-panel-hover, #1e2127)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent"},children:"Close Others"}),e.jsx("button",{onClick:m,style:{width:"100%",padding:"6px 12px",background:"transparent",border:"none",textAlign:"left",color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12},onMouseEnter:y=>{y.currentTarget.style.background="var(--slate-panel-hover, #1e2127)"},onMouseLeave:y=>{y.currentTarget.style.background="transparent"},children:"Close All"})]}),f&&b&&e.jsxs("div",{style:{position:"fixed",left:"50%",top:60,transform:"translateX(-50%)",background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,padding:12,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",zIndex:1e3,maxWidth:400,pointerEvents:"none"},children:[e.jsx("div",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)",marginBottom:4},children:b}),e.jsx("div",{style:{fontSize:11,color:"var(--slate-text-muted, #9ba1aa)"},children:"Click to open"})]})]})};try{K.displayName="TabManager",K.__docgenInfo={description:"",displayName:"TabManager",props:{onTabSelect:{defaultValue:null,description:"",name:"onTabSelect",required:!1,type:{name:"((path: string) => void) | undefined"}},onTabClose:{defaultValue:null,description:"",name:"onTabClose",required:!1,type:{name:"((path: string) => void) | undefined"}},onTabPin:{defaultValue:null,description:"",name:"onTabPin",required:!1,type:{name:"((path: string, pinned: boolean) => void) | undefined"}},showPreview:{defaultValue:{value:"true"},description:"",name:"showPreview",required:!1,type:{name:"boolean | undefined"}}}}}catch{}async function ce(r){var a;try{await((a=r.getAction("editor.action.formatDocument"))==null?void 0:a.run())}catch(t){throw console.error("Formatting error:",t),t}}async function Oe(r){var a;try{await((a=r.getAction("editor.action.formatSelection"))==null?void 0:a.run())}catch(t){throw console.error("Format selection error:",t),t}}function He(r){var f;const a=(f=r.split(".").pop())==null?void 0:f.toLowerCase();return{ts:"typescript",tsx:"typescript",js:"javascript",jsx:"javascript",json:"json",md:"markdown",mdx:"markdown",css:"css",scss:"scss",sass:"sass",html:"html",xml:"xml",yaml:"yaml",yml:"yaml",py:"python",java:"java",c:"c",cpp:"cpp",cs:"csharp",go:"go",rs:"rust",php:"php",rb:"ruby",sh:"shell",bash:"shell",zsh:"shell",sql:"sql",vue:"vue",svelte:"svelte"}[a||""]||"plaintext"}const q=({filePath:r,language:a,theme:t="slate-dark",options:f,onChange:o,onSave:s,height:d="100%",width:l="100%",showSearchReplace:v=!0,formatOnSave:i=!0,enableIntelliSense:h=!0})=>{const b=D(),p=n.useRef(null),[g,c]=n.useState(""),[j,w]=n.useState(!0),[x,_]=n.useState(!1),{setActiveEditor:R,markDirty:V,markClean:z}=N(),C=a||(r?He(r):"typescript");n.useEffect(()=>{if(!r){c(""),w(!1);return}const F=b.readFile(r);F!==null?(c(F),w(!1)):(c(""),w(!1))},[r,b]);const m=(F,E)=>{p.current=F,R(F,r||""),setTimeout(()=>{try{E.editor.setTheme(t)}catch{E.editor.setTheme(t)}},100),F.addCommand(E.KeyMod.CtrlCmd|E.KeyCode.KeyS,()=>{y()}),F.addCommand(E.KeyMod.CtrlCmd|E.KeyCode.KeyF,()=>{_(!0)}),F.addCommand(E.KeyMod.Shift|E.KeyMod.Alt|E.KeyCode.KeyF,async()=>{await S()}),F.addCommand(E.KeyMod.Shift|E.KeyMod.Alt|E.KeyCode.KeyF,async()=>{const P=F.getSelection();P&&!P.isEmpty()?await M():await S()}),h&&(E.languages.typescript.typescriptDefaults.setCompilerOptions({target:E.languages.typescript.ScriptTarget.ES2020,allowNonTsExtensions:!0,moduleResolution:E.languages.typescript.ModuleResolutionKind.NodeJs,module:E.languages.typescript.ModuleKind.ESNext,noEmit:!0,esModuleInterop:!0,jsx:E.languages.typescript.JsxEmit.React,reactNamespace:"React",allowJs:!0,typeRoots:["node_modules/@types"]}),E.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1,noSuggestionDiagnostics:!1}),F.updateOptions({quickSuggestions:{other:!0,comments:!0,strings:!0},suggestOnTriggerCharacters:!0,acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",tabCompletion:"on",wordBasedSuggestions:"matchingDocuments"})),F.focus()},u=F=>{c(F||""),r&&V(r),o==null||o(F)},S=async()=>{if(p.current)try{await ce(p.current)}catch(F){console.error("Format error:",F)}},M=async()=>{if(p.current)try{await Oe(p.current)}catch(F){console.error("Format selection error:",F)}},y=async()=>{if(!r||!p.current)return;if(i)try{await ce(p.current)}catch(E){console.error("Format on save error:",E)}const F=p.current.getValue();b.writeFile(r,F),z(r),s==null||s(F)},k={fontSize:14,fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace',lineNumbers:"on",lineNumbersMinChars:3,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,wordWrap:"on",formatOnPaste:!0,formatOnType:!0,suggestOnTriggerCharacters:h,acceptSuggestionOnCommitCharacter:h,acceptSuggestionOnEnter:h?"on":"off",quickSuggestions:h?{other:!0,comments:!0,strings:!0}:!1,quickSuggestionsDelay:100,parameterHints:{enabled:h},hover:{enabled:h},gotoLocation:{multiple:"goto",multipleDefinitions:"goto",multipleDeclarations:"goto",multipleImplementations:"goto",multipleReferences:"goto"},bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},codeActionsOnSave:{"source.fixAll":"explicit","source.organizeImports":"explicit"},...f};return j?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:d,width:l,background:"#0A0A0A",color:"#FFFFFF"},children:"Loading editor..."}):e.jsxs("div",{style:{position:"relative",height:d,width:l},children:[e.jsx(H,{height:d,width:l,language:C,theme:t,value:g,onChange:u,onMount:m,options:k,loading:e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"#0A0A0A",color:"#FFFFFF"},children:"Loading Monaco Editor..."})}),v&&e.jsx(Fe,{editor:p.current,visible:x,onClose:()=>_(!1)})]})};try{q.displayName="MonacoEditor",q.__docgenInfo={description:"",displayName:"MonacoEditor",props:{filePath:{defaultValue:null,description:"",name:"filePath",required:!1,type:{name:"string | undefined"}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"string | undefined"}},theme:{defaultValue:{value:"slate-dark"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"vs-dark"'},{value:'"light"'},{value:'"slate-dark"'}]}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"IStandaloneEditorConstructionOptions | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string | undefined) => void) | undefined"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!1,type:{name:"((value: string) => void) | undefined"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string | undefined"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string | undefined"}},showSearchReplace:{defaultValue:{value:"true"},description:"",name:"showSearchReplace",required:!1,type:{name:"boolean | undefined"}},formatOnSave:{defaultValue:{value:"true"},description:"",name:"formatOnSave",required:!1,type:{name:"boolean | undefined"}},enableIntelliSense:{defaultValue:{value:"true"},description:"",name:"enableIntelliSense",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const L=(r={})=>{const{onReady:a,onError:t,autoStart:f=!0}=r,o=n.useRef(null),[s,d]=n.useState({status:"idle"}),l=D();n.useEffect(()=>{let h=!0;return(async()=>{try{d({status:"booting"});const{WebContainer:p}=await Ce(async()=>{const{WebContainer:c}=await import("./index-Cy79dHj7.js");return{WebContainer:c}},[],import.meta.url),g=await p.boot();if(!h)return;o.current=g,d({status:"ready"}),a==null||a(g),await v(g),f&&await i(g)}catch(p){const g=p instanceof Error?p:new Error("Failed to initialize WebContainer");d({status:"error",error:g.message}),t==null||t(g)}})(),()=>{h=!1}},[f,a,t]);const v=n.useCallback(async h=>{try{const b=l.getSnapshot(),p=async(g,c="")=>{if(g.type==="file"){const j=c||"/";await h.fs.writeFile(j,g.content||"")}else if(g.type==="folder")for(const[j,w]of Object.entries(g.children||{})){const x=c?`${c}/${j}`:`/${j}`;await p(w,x)}};await p(b)}catch(b){console.error("Failed to sync filesystem:",b)}},[l]),i=n.useCallback(async h=>{try{if(d("building"),!l.readFile("/package.json")){const c={name:"wissil-project",version:"1.0.0",type:"module",scripts:{dev:"vite",build:"vite build",preview:"vite preview"},dependencies:{},devDependencies:{vite:"^5.0.0"}};await h.fs.writeFile("/package.json",JSON.stringify(c,null,2))}await(await h.spawn("npm",["install"])).exit;const g=await h.spawn("npm",["run","dev"]);h.on("server-ready",(c,j)=>{d({status:"running",port:c,url:j})}),g.output.pipeTo(new WritableStream({write(c){console.log("[Dev Server]",c)}}))}catch(b){const p=b instanceof Error?b:new Error("Failed to start dev server");d({status:"error",error:p.message}),t==null||t(p)}},[l]);return n.useEffect(()=>{if(!o.current||s.status!=="ready")return;const b=setTimeout(async()=>{o.current&&await v(o.current)},500);return()=>clearTimeout(b)},[l.getSnapshot(),s,v]),{container:o.current,status:s,startDevServer:async()=>{o.current&&await i(o.current)},syncFilesystem:async()=>{o.current&&await v(o.current)}}},ue=r=>(L(r),null);try{L.displayName="useStackBlitzRuntime",L.__docgenInfo={description:"",displayName:"useStackBlitzRuntime",props:{onReady:{defaultValue:null,description:"",name:"onReady",required:!1,type:{name:"((container: WebContainer) => void) | undefined"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void) | undefined"}},autoStart:{defaultValue:null,description:"",name:"autoStart",required:!1,type:{name:"boolean | undefined"}}}}}catch{}try{ue.displayName="StackBlitzRuntime",ue.__docgenInfo={description:"",displayName:"StackBlitzRuntime",props:{onReady:{defaultValue:null,description:"",name:"onReady",required:!1,type:{name:"((container: WebContainer) => void) | undefined"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void) | undefined"}},autoStart:{defaultValue:null,description:"",name:"autoStart",required:!1,type:{name:"boolean | undefined"}}}}}catch{}var We=je.style;const Ke=be(We),J=({url:r,onLoad:a,onError:t,height:f="100%",width:o="100%",showControls:s=!0})=>{const d=n.useRef(null),[l,v]=n.useState(!0),[i,h]=n.useState(!1),[b,p]=n.useState(null);n.useEffect(()=>{r&&(v(!0),p(null))},[r]);const g=()=>{v(!1),a==null||a()},c=()=>{const _=new Error("Failed to load preview");v(!1),p("Failed to load preview"),t==null||t(_)},j=()=>{d.current&&(d.current.src=d.current.src,v(!0))},w=()=>{d.current&&(i?(document.exitFullscreen&&document.exitFullscreen(),h(!1)):(d.current.requestFullscreen&&d.current.requestFullscreen(),h(!0)))},x=()=>{r&&window.open(r,"_blank")};return r?e.jsxs("div",{style:{position:"relative",height:f,width:o,background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,overflow:"hidden",display:"flex",flexDirection:"column"},className:"jsx-c638d58519684162",children:[s&&e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--slate-panel, #16181d)",borderBottom:"1px solid var(--slate-border, #26292f)"},className:"jsx-c638d58519684162",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},className:"jsx-c638d58519684162",children:[e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:l?"#fbbf24":"#10b981"},className:"jsx-c638d58519684162"}),e.jsx("span",{style:{fontSize:12,color:"var(--slate-text-muted, #9ba1aa)"},className:"jsx-c638d58519684162",children:l?"Loading...":"Running"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},className:"jsx-c638d58519684162",children:[e.jsx("button",{onClick:j,style:{padding:"4px 8px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},title:"Refresh",className:"jsx-c638d58519684162",children:e.jsx(fe,{size:12})}),e.jsx("button",{onClick:w,style:{padding:"4px 8px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},title:"Fullscreen",className:"jsx-c638d58519684162",children:i?e.jsx(Ne,{size:12}):e.jsx(De,{size:12})}),e.jsx("button",{onClick:x,style:{padding:"4px 8px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},title:"Open in new tab",className:"jsx-c638d58519684162",children:e.jsx(Pe,{size:12})})]})]}),b&&e.jsx("div",{style:{padding:16,background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:4,margin:12,color:"#ef4444",fontSize:12},className:"jsx-c638d58519684162",children:b}),l&&!b&&e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:8,color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},className:"jsx-c638d58519684162",children:[e.jsx("div",{style:{width:24,height:24,border:"2px solid var(--slate-border, #26292f)",borderTopColor:"var(--slate-accent, #3f8cff)",borderRadius:"50%",animation:"spin 1s linear infinite"},className:"jsx-c638d58519684162"}),e.jsx("span",{className:"jsx-c638d58519684162",children:"Loading preview..."})]}),e.jsx("iframe",{ref:d,src:r,onLoad:g,onError:c,style:{flex:1,border:"none",width:"100%",height:"100%",background:"#FFFFFF"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",title:"Preview",className:"jsx-c638d58519684162"}),e.jsx(Ke,{id:"c638d58519684162",children:"@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:f,width:o,background:"var(--slate-bg, #0f1115)",color:"var(--slate-text-muted, #9ba1aa)",fontSize:14},children:"No preview URL available"})};try{J.displayName="PreviewFrame",J.__docgenInfo={description:"",displayName:"PreviewFrame",props:{url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string | undefined"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!1,type:{name:"(() => void) | undefined"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: Error) => void) | undefined"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string | undefined"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string | undefined"}},showControls:{defaultValue:{value:"true"},description:"",name:"showControls",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const $=({messages:r=[],onClear:a,maxMessages:t=1e3,showTimestamp:f=!0,autoScroll:o=!0})=>{const s=n.useRef(null),[d,l]=n.useState("all");n.useEffect(()=>{o&&s.current&&(s.current.scrollTop=s.current.scrollHeight)},[r,o]);const i=r.filter(p=>d==="all"?!0:p.type===d).slice(-t),h=p=>{switch(p){case"error":return"#ef4444";case"warn":return"#f59e0b";case"info":return"#3b82f6";case"debug":return"#8b5cf6";default:return"var(--slate-text, #e4e7eb)"}},b=p=>p.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3});return e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,overflow:"hidden"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--slate-panel, #16181d)",borderBottom:"1px solid var(--slate-border, #26292f)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(he,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}),e.jsx("span",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)"},children:"Console"}),e.jsxs("span",{style:{fontSize:11,color:"var(--slate-text-muted, #9ba1aa)"},children:["(",i.length,")"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[["all","log","error","warn","info"].map(p=>e.jsx("button",{onClick:()=>l(p),style:{padding:"2px 6px",background:d===p?"var(--slate-accent, #3f8cff)":"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:d===p?"#FFFFFF":"var(--slate-text-muted, #9ba1aa)",cursor:"pointer",fontSize:10,textTransform:"capitalize"},children:p},p)),e.jsx("button",{onClick:a,style:{padding:"4px 8px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text-muted, #9ba1aa)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},title:"Clear console",children:e.jsx(Le,{size:12})})]})]}),e.jsx("div",{ref:s,style:{flex:1,overflowY:"auto",padding:8,fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace',fontSize:12,lineHeight:1.5},children:i.length===0?e.jsx("div",{style:{color:"var(--slate-text-muted, #9ba1aa)",fontSize:12,textAlign:"center",padding:20},children:"No console messages"}):i.map((p,g)=>e.jsxs("div",{style:{display:"flex",gap:8,padding:"2px 0",color:h(p.type)},children:[f&&e.jsx("span",{style:{color:"var(--slate-text-muted, #9ba1aa)",fontSize:11,minWidth:80},children:b(p.timestamp)}),e.jsx("span",{style:{flex:1,wordBreak:"break-word"},children:p.message})]},g))})]})};try{$.displayName="ConsoleOutput",$.__docgenInfo={description:"",displayName:"ConsoleOutput",props:{messages:{defaultValue:{value:"[]"},description:"",name:"messages",required:!1,type:{name:"ConsoleMessage[] | undefined"}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void) | undefined"}},maxMessages:{defaultValue:{value:"1000"},description:"",name:"maxMessages",required:!1,type:{name:"number | undefined"}},showTimestamp:{defaultValue:{value:"true"},description:"",name:"showTimestamp",required:!1,type:{name:"boolean | undefined"}},autoScroll:{defaultValue:{value:"true"},description:"",name:"autoScroll",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const U=({container:r,onCommand:a,onOutput:t,height:f="300px",autoFocus:o=!0})=>{const s=n.useRef(null),d=n.useRef(null),[l,v]=n.useState([]),[i,h]=n.useState(-1),[b,p]=n.useState(""),[g,c]=n.useState([]),[j,w]=n.useState(!1),x=n.useRef(null);n.useEffect(()=>{o&&s.current&&s.current.focus()},[o]),n.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[g]);const _=n.useCallback(async z=>{if(!(!r||!z.trim())){v(C=>[...C,z]),h(-1),c(C=>[...C,{type:"input",text:`$ ${z}`}]),a==null||a(z),w(!0);try{const[C,...m]=z.trim().split(/\s+/),u=await r.spawn(C,m);x.current=u;const S=u.output.getReader(),M=new TextDecoder;for(;;){const{done:k,value:F}=await S.read();if(k)break;const E=M.decode(F,{stream:!0});c(P=>[...P,{type:"output",text:E}]),t==null||t(E)}const y=await u.exit;y!==0&&c(k=>[...k,{type:"error",text:`Process exited with code ${y}`}])}catch(C){const m=C instanceof Error?C.message:"Command failed";c(u=>[...u,{type:"error",text:m}])}finally{w(!1),x.current=null}}},[r,a,t]),R=z=>{if(z.key==="Enter"){z.preventDefault();const C=b.trim();C&&(_(C),p(""))}else if(z.key==="ArrowUp"){if(z.preventDefault(),l.length>0){const C=i===-1?l.length-1:Math.max(0,i-1);h(C),p(l[C])}}else if(z.key==="ArrowDown"){if(z.preventDefault(),i!==-1){const C=i+1;C>=l.length?(h(-1),p("")):(h(C),p(l[C]))}}else z.key==="c"&&(z.ctrlKey||z.metaKey)&&(z.preventDefault(),x.current&&(x.current.kill(),x.current=null,w(!1)))},V=()=>{x.current&&(x.current.kill(),x.current=null,w(!1))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:f,background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,overflow:"hidden"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"var(--slate-panel, #16181d)",borderBottom:"1px solid var(--slate-border, #26292f)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(he,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}),e.jsx("span",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)"},children:"Terminal"})]}),j&&e.jsxs("button",{onClick:V,style:{padding:"4px 8px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:4,color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},children:[e.jsx(ze,{size:12}),"Stop"]})]}),e.jsx("div",{ref:d,style:{flex:1,overflowY:"auto",padding:8,fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace',fontSize:12,lineHeight:1.5,background:"#000000",color:"#00ff00"},children:g.length===0?e.jsx("div",{style:{color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},children:"Terminal ready. Type a command and press Enter."}):g.map((z,C)=>e.jsx("div",{style:{color:z.type==="error"?"#ef4444":z.type==="input"?"#00ff00":"#e4e7eb",marginBottom:2,wordBreak:"break-word"},children:z.text},C))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",background:"var(--slate-panel, #16181d)",borderTop:"1px solid var(--slate-border, #26292f)"},children:[e.jsx("span",{style:{color:"#00ff00",fontSize:12},children:"$"}),e.jsx("input",{ref:s,type:"text",value:b,onChange:z=>p(z.target.value),onKeyDown:R,disabled:j,placeholder:j?"Command running...":"Enter command...",style:{flex:1,background:"transparent",border:"none",outline:"none",color:"#e4e7eb",fontSize:12,fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace'}}),!j&&e.jsxs("button",{onClick:()=>{b.trim()&&(_(b),p(""))},style:{padding:"4px 8px",background:"var(--slate-accent, #3f8cff)",border:"none",borderRadius:4,color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},children:[e.jsx(_e,{size:12}),"Run"]})]})]})};try{U.displayName="Terminal",U.__docgenInfo={description:"",displayName:"Terminal",props:{container:{defaultValue:null,description:"",name:"container",required:!1,type:{name:"any"}},onCommand:{defaultValue:null,description:"",name:"onCommand",required:!1,type:{name:"((command: string) => void) | undefined"}},onOutput:{defaultValue:null,description:"",name:"onOutput",required:!1,type:{name:"((output: string) => void) | undefined"}},height:{defaultValue:{value:"300px"},description:"",name:"height",required:!1,type:{name:"string | undefined"}},autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const Y=({status:r,message:a,progress:t,errors:f=[],warnings:o=[],buildTime:s})=>{const d=()=>{switch(r){case"building":return e.jsx(qe,{size:16,className:"animate-spin"});case"success":return e.jsx(me,{size:16,style:{color:"#10b981"}});case"error":return e.jsx(Ge,{size:16,style:{color:"#ef4444"}});case"warning":return e.jsx(oe,{size:16,style:{color:"#f59e0b"}});default:return null}},l=()=>{switch(r){case"building":return"#3b82f6";case"success":return"#10b981";case"error":return"#ef4444";case"warning":return"#f59e0b";default:return"var(--slate-text-muted, #9ba1aa)"}};return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8},children:[e.jsx("div",{style:{display:"flex",alignItems:"center"},children:d()}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:2},children:[e.jsx("div",{style:{fontSize:12,fontWeight:500,color:l()},children:a||r.charAt(0).toUpperCase()+r.slice(1)}),r==="building"&&t!==void 0&&e.jsx("div",{style:{width:"100%",height:2,background:"var(--slate-bg, #0f1115)",borderRadius:1,overflow:"hidden"},children:e.jsx("div",{style:{width:`${t}%`,height:"100%",background:l(),transition:"width 0.3s ease"}})}),s!==void 0&&r==="success"&&e.jsxs("div",{style:{fontSize:10,color:"var(--slate-text-muted, #9ba1aa)"},children:["Built in ",s.toFixed(2),"s"]}),f.length>0&&e.jsx("div",{style:{marginTop:4},children:f.map((v,i)=>e.jsx("div",{style:{fontSize:11,color:"#ef4444",marginTop:2},children:v},i))}),o.length>0&&e.jsx("div",{style:{marginTop:4},children:o.map((v,i)=>e.jsx("div",{style:{fontSize:11,color:"#f59e0b",marginTop:2},children:v},i))})]})]})};try{Y.displayName="BuildStatus",Y.__docgenInfo={description:"",displayName:"BuildStatus",props:{status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"idle"'},{value:'"building"'},{value:'"success"'},{value:'"error"'},{value:'"warning"'}]}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"string | undefined"}},progress:{defaultValue:null,description:"",name:"progress",required:!1,type:{name:"number | undefined"}},errors:{defaultValue:{value:"[]"},description:"",name:"errors",required:!1,type:{name:"string[] | undefined"}},warnings:{defaultValue:{value:"[]"},description:"",name:"warnings",required:!1,type:{name:"string[] | undefined"}},buildTime:{defaultValue:null,description:"",name:"buildTime",required:!1,type:{name:"number | undefined"}}}}}catch{}const X=({error:r,onClose:a,onRetry:t,show:f=!0})=>{if(!f||!r)return null;const o=r instanceof Error?r.message:r,s=r instanceof Error?r.stack:void 0,d=()=>{const l=s||o;navigator.clipboard.writeText(l)};return e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:20},children:e.jsxs("div",{style:{background:"var(--slate-panel, #16181d)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:8,maxWidth:600,width:"100%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid var(--slate-border, #26292f)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(oe,{size:20,style:{color:"#ef4444"}}),e.jsx("span",{style:{fontSize:16,fontWeight:600,color:"#ef4444"},children:"Runtime Error"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[t&&e.jsxs("button",{onClick:t,style:{padding:"6px 12px",background:"var(--slate-accent, #3f8cff)",border:"none",borderRadius:4,color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:12},children:[e.jsx(fe,{size:14}),"Retry"]}),a&&e.jsx("button",{onClick:a,style:{padding:"6px 12px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:12},children:e.jsx(O,{size:14})})]})]}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsx("div",{style:{fontSize:14,color:"#ef4444",marginBottom:12,fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace'},children:o}),s&&e.jsxs("div",{style:{marginTop:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsx("span",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text-muted, #9ba1aa)"},children:"Stack Trace"}),e.jsxs("button",{onClick:d,style:{padding:"4px 8px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text-muted, #9ba1aa)",cursor:"pointer",display:"flex",alignItems:"center",gap:4,fontSize:11},children:[e.jsx(Ie,{size:12}),"Copy"]})]}),e.jsx("pre",{style:{background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,padding:12,fontSize:11,fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace',color:"var(--slate-text, #e4e7eb)",overflow:"auto",maxHeight:300,lineHeight:1.5},children:s})]})]})]})})};try{X.displayName="ErrorOverlay",X.__docgenInfo={description:"",displayName:"ErrorOverlay",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string | Error | null | undefined"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}},onRetry:{defaultValue:null,description:"",name:"onRetry",required:!1,type:{name:"(() => void) | undefined"}},show:{defaultValue:{value:"true"},description:"",name:"show",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const Z=({showPreview:r=!0,showConsole:a=!0,showTerminal:t=!0,showBuildStatus:f=!0,layout:o="horizontal",previewHeight:s="50%"})=>{const[d,l]=n.useState([]),[v,i]=n.useState("idle"),[h,b]=n.useState(""),[p,g]=n.useState(0),[c,j]=n.useState(null),w=D(),{container:x,status:_}=L({onReady:R,onError:V,autoStart:!0}),R=n.useCallback(M=>{M.on("server-ready",(y,k)=>{i("success"),b("Build completed successfully")})},[]),V=n.useCallback(M=>{j(M),i("error"),b(M.message),l(y=>[...y,{type:"error",message:M.message,timestamp:new Date}])},[]),z=n.useCallback(()=>{j(null),i("idle"),b("")},[]),C=n.useCallback(M=>{l(y=>[...y,M].slice(-1e3))},[]),m=n.useCallback(()=>{l([])},[]),u=n.useCallback(M=>{C({type:"log",message:M,timestamp:new Date})},[C]),S=n.useCallback(M=>{C({type:"info",message:`Executing: ${M}`,timestamp:new Date}),M.startsWith("npm")&&(i("building"),b("Installing dependencies..."),g(0))},[C]);return n.useEffect(()=>{if(!x||_.status!=="running")return;const y=setTimeout(async()=>{try{const k=w.getSnapshot()}catch(k){console.error("Failed to sync filesystem:",k)}},500);return()=>clearTimeout(y)},[w.getSnapshot(),x,_.status]),e.jsxs(e.Fragment,{children:[e.jsx(X,{error:c,onClose:()=>j(null),onRetry:z,show:!!c}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[f&&e.jsx("div",{style:{padding:"8px 12px",borderBottom:"1px solid var(--slate-border, #26292f)"},children:e.jsx(Y,{status:v,message:h,progress:p})}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:o==="vertical"?"column":"row"},children:[r&&e.jsx("div",{style:{flex:1,minHeight:0},children:e.jsx(J,{url:_.url,onLoad:()=>{C({type:"info",message:"Preview loaded successfully",timestamp:new Date})},onError:M=>{C({type:"error",message:M.message,timestamp:new Date})},height:o==="vertical"?s:"100%"})}),(a||t)&&e.jsxs(ie,{direction:o==="vertical"?"horizontal":"vertical",defaultSize:50,minSize:20,maxSize:80,children:[a&&e.jsx($,{messages:d,onClear:m}),t&&e.jsx(U,{container:x,onCommand:S,onOutput:u})]})]})]})]})};try{Z.displayName="RuntimeContainer",Z.__docgenInfo={description:"",displayName:"RuntimeContainer",props:{showPreview:{defaultValue:{value:"true"},description:"",name:"showPreview",required:!1,type:{name:"boolean | undefined"}},showConsole:{defaultValue:{value:"true"},description:"",name:"showConsole",required:!1,type:{name:"boolean | undefined"}},showTerminal:{defaultValue:{value:"true"},description:"",name:"showTerminal",required:!1,type:{name:"boolean | undefined"}},showBuildStatus:{defaultValue:{value:"true"},description:"",name:"showBuildStatus",required:!1,type:{name:"boolean | undefined"}},layout:{defaultValue:{value:"horizontal"},description:"",name:"layout",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"grid"'},{value:'"horizontal"'},{value:'"vertical"'}]}},previewHeight:{defaultValue:{value:"50%"},description:"",name:"previewHeight",required:!1,type:{name:"string | undefined"}}}}}catch{}class Je{constructor(a){this.repoPath=a}clone(){return Promise.resolve({})}pull(){return Promise.resolve({})}push(){return Promise.resolve({})}add(){return Promise.resolve({})}commit(){return Promise.resolve({})}status(){return Promise.resolve({current:"main",tracking:null,ahead:0,behind:0,files:[],staged:[],not_added:[],conflicted:[],created:[],deleted:[],modified:[],renamed:[]})}log(){return Promise.resolve({all:[],latest:null,total:0})}branch(){return Promise.resolve({all:["main"],current:"main",branches:{}})}branchLocal(){return this.branch()}init(){return Promise.resolve({})}checkout(){return Promise.resolve({})}checkoutBranch(){return Promise.resolve({})}checkoutLocalBranch(){return Promise.resolve({})}deleteLocalBranch(){return Promise.resolve({})}diff(){return Promise.resolve("")}diffSummary(){return Promise.resolve({files:[],insertions:0,deletions:0,changed:0})}revparse(){return Promise.resolve("HEAD")}raw(){return Promise.resolve("")}}const $e=r=>new Je(r),xe=n.createContext(null),T=()=>{const r=n.useContext(xe);if(!r)throw new Error("useGit must be used within GitProvider");return r},Q=({children:r,workingDir:a=process.cwd()})=>{const[t,f]=n.useState(null),[o,s]=n.useState(null),[d,l]=n.useState(!1),[v,i]=n.useState(null);D(),n.useEffect(()=>{(async()=>{try{const u=$e(a);f(u),await h(u)}catch(u){const S=u instanceof Error?u:new Error("Failed to initialize Git");i(S),console.error("Git initialization error:",S)}})()},[a]);const h=n.useCallback(async m=>{try{l(!0);const u=await m.status(),S={current:u.current||null,tracking:u.tracking||null,ahead:u.ahead,behind:u.behind,files:u.files.map(M=>({path:M.path,index:M.index,working_dir:M.working_dir})),staged:u.staged,not_added:u.not_added,conflicted:u.conflicted,created:u.created,deleted:u.deleted,modified:u.modified,renamed:u.renamed};s(S),i(null)}catch(u){const S=u instanceof Error?u:new Error("Failed to get Git status");i(S),console.error("Git status error:",S)}finally{l(!1)}},[]),b=n.useCallback(async()=>{t&&await h(t)},[t,h]),p=n.useCallback(async()=>{if(t)try{l(!0),await t.init(),await h(t)}catch(m){const u=m instanceof Error?m:new Error("Failed to initialize Git repository");throw i(u),u}finally{l(!1)}},[t,h]),g=n.useCallback(async m=>{if(t)try{l(!0),await t.add(m),await h(t)}catch(u){const S=u instanceof Error?u:new Error("Failed to stage files");throw i(S),S}finally{l(!1)}},[t,h]),c=n.useCallback(async m=>{if(t)try{l(!0),await t.commit(m),await h(t)}catch(u){const S=u instanceof Error?u:new Error("Failed to commit");throw i(S),S}finally{l(!1)}},[t,h]),j=n.useCallback(async()=>{if(t)try{l(!0),await t.push(),await h(t)}catch(m){const u=m instanceof Error?m:new Error("Failed to push");throw i(u),u}finally{l(!1)}},[t,h]),w=n.useCallback(async()=>{if(t)try{l(!0),await t.pull(),await h(t)}catch(m){const u=m instanceof Error?m:new Error("Failed to pull");throw i(u),u}finally{l(!1)}},[t,h]),x=n.useCallback(async m=>{if(t)try{l(!0),await t.checkout(m),await h(t)}catch(u){const S=u instanceof Error?u:new Error("Failed to checkout branch");throw i(S),S}finally{l(!1)}},[t,h]),_=n.useCallback(async m=>{if(t)try{l(!0),await t.checkoutLocalBranch(m),await h(t)}catch(u){const S=u instanceof Error?u:new Error("Failed to create branch");throw i(S),S}finally{l(!1)}},[t,h]),R=n.useCallback(async()=>{if(!t)return[];try{return(await t.branchLocal()).all}catch(m){return console.error("Failed to get branches:",m),[]}},[t]),V=n.useCallback(async(m=50)=>{if(!t)return[];try{return(await t.log({maxCount:m})).all.map(S=>({hash:S.hash,date:new Date(S.date),message:S.message,author:S.author_name,refs:S.refs}))}catch(u){return console.error("Failed to get commits:",u),[]}},[t]),z=n.useCallback(async m=>{if(!t)return"";try{return m?await t.diff([m]):await t.diff()}catch(u){return console.error("Failed to get diff:",u),""}},[t]),C={git:t,status:o,isLoading:d,error:v,refresh:b,init:p,add:g,commit:c,push:j,pull:w,checkout:x,createBranch:_,getBranches:R,getCommits:V,getDiff:z};return e.jsx(xe.Provider,{value:C,children:r})};try{Q.displayName="GitProvider",Q.__docgenInfo={description:"",displayName:"GitProvider",props:{workingDir:{defaultValue:{value:"process.cwd()"},description:"",name:"workingDir",required:!1,type:{name:"string | undefined"}}}}}catch{}const ee=({showFiles:r=!0,compact:a=!1})=>{const{status:t,isLoading:f,error:o}=T();if(f)return e.jsx("div",{style:{padding:a?"4px 8px":"8px 12px",background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,fontSize:12,color:"var(--slate-text-muted, #9ba1aa)"},children:"Loading Git status..."});if(o)return e.jsxs("div",{style:{padding:a?"4px 8px":"8px 12px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:4,fontSize:12,color:"#ef4444",display:"flex",alignItems:"center",gap:6},children:[e.jsx(oe,{size:14}),o.message]});if(!t)return e.jsx("div",{style:{padding:a?"4px 8px":"8px 12px",background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,fontSize:12,color:"var(--slate-text-muted, #9ba1aa)"},children:"Not a Git repository"});const s=t.staged.length>0||t.not_added.length>0||t.modified.length>0||t.created.length>0||t.deleted.length>0;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:a?4:8,padding:a?"4px 8px":"8px 12px",background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(B,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}),e.jsx("span",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)"},children:t.current||"main"}),t.tracking&&e.jsxs("span",{style:{fontSize:11,color:"var(--slate-text-muted, #9ba1aa)"},children:["â†’ ",t.tracking]}),t.ahead>0&&e.jsxs("span",{style:{fontSize:11,color:"#10b981"},children:["â†‘ ",t.ahead]}),t.behind>0&&e.jsxs("span",{style:{fontSize:11,color:"#f59e0b"},children:["â†“ ",t.behind]})]}),s&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,fontSize:11,color:"var(--slate-text-muted, #9ba1aa)"},children:[t.staged.length>0&&e.jsxs("span",{style:{color:"#10b981"},children:[e.jsx(me,{size:12,style:{display:"inline",marginRight:4}}),t.staged.length," staged"]}),t.modified.length>0&&e.jsxs("span",{style:{color:"#f59e0b"},children:[t.modified.length," modified"]}),t.created.length>0&&e.jsxs("span",{style:{color:"#3b82f6"},children:[t.created.length," created"]}),t.deleted.length>0&&e.jsxs("span",{style:{color:"#ef4444"},children:[t.deleted.length," deleted"]})]}),r&&s&&e.jsxs("div",{style:{marginTop:4,paddingTop:8,borderTop:"1px solid var(--slate-border, #26292f)"},children:[t.staged.length>0&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("div",{style:{fontSize:11,fontWeight:500,color:"#10b981",marginBottom:4},children:"Staged"}),t.staged.map(d=>e.jsx("div",{style:{fontSize:11,color:"var(--slate-text, #e4e7eb)",padding:"2px 0",paddingLeft:8},children:d},d))]}),(t.not_added.length>0||t.modified.length>0||t.created.length>0||t.deleted.length>0)&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:11,fontWeight:500,color:"var(--slate-text-muted, #9ba1aa)",marginBottom:4},children:"Changes"}),[...t.modified,...t.created,...t.deleted].map(d=>e.jsx("div",{style:{fontSize:11,color:"var(--slate-text, #e4e7eb)",padding:"2px 0",paddingLeft:8},children:d},d))]})]}),!s&&e.jsx("div",{style:{fontSize:11,color:"var(--slate-text-muted, #9ba1aa)",fontStyle:"italic"},children:"No changes"})]})};try{ee.displayName="GitStatus",ee.__docgenInfo={description:"",displayName:"GitStatus",props:{showFiles:{defaultValue:{value:"true"},description:"",name:"showFiles",required:!1,type:{name:"boolean | undefined"}},compact:{defaultValue:{value:"false"},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}}}catch{}const te=({onCommit:r})=>{const{status:a,add:t,commit:f,isLoading:o}=T(),[s,d]=n.useState(""),[l,v]=n.useState(new Set);if(!a)return e.jsx("div",{style:{padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},children:"Not a Git repository"});const i=[...a.modified,...a.created,...a.deleted,...a.not_added],h=async c=>{try{await t([c]),v(j=>{const w=new Set(j);return w.add(c),w})}catch(j){console.error("Failed to stage file:",j)}},b=async c=>{try{v(j=>{const w=new Set(j);return w.delete(c),w})}catch(j){console.error("Failed to unstage file:",j)}},p=async()=>{try{await t(i),v(new Set(i))}catch(c){console.error("Failed to stage all files:",c)}},g=async()=>{if(s.trim())try{await f(s),d(""),v(new Set),r==null||r(s)}catch(c){console.error("Failed to commit:",c)}};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(le,{size:16,style:{color:"var(--slate-text, #e4e7eb)"}}),e.jsx("span",{style:{fontSize:14,fontWeight:500,color:"var(--slate-text, #e4e7eb)"},children:"Commit Changes"})]}),a.staged.length>0&&e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:12,fontWeight:500,color:"#10b981",marginBottom:8},children:["Staged (",a.staged.length,")"]}),e.jsx("div",{style:{maxHeight:200,overflowY:"auto",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,padding:8},children:a.staged.map(c=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",fontSize:11,color:"var(--slate-text, #e4e7eb)"},children:[e.jsx("span",{children:c}),e.jsx("button",{onClick:()=>b(c),style:{padding:"2px 6px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text-muted, #9ba1aa)",cursor:"pointer",fontSize:10},children:e.jsx(Te,{size:10})})]},c))})]}),i.length>0&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("div",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text-muted, #9ba1aa)"},children:["Changes (",i.length,")"]}),e.jsxs("button",{onClick:p,style:{padding:"4px 8px",background:"var(--slate-accent, #3f8cff)",border:"none",borderRadius:4,color:"#FFFFFF",cursor:"pointer",fontSize:11,display:"flex",alignItems:"center",gap:4},children:[e.jsx(W,{size:12}),"Stage All"]})]}),e.jsx("div",{style:{maxHeight:200,overflowY:"auto",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,padding:8},children:i.map(c=>{const j=a.staged.includes(c);return e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 8px",fontSize:11,color:"var(--slate-text, #e4e7eb)",background:j?"rgba(16, 185, 129, 0.1)":"transparent"},children:[e.jsx("span",{children:c}),!j&&e.jsx("button",{onClick:()=>h(c),style:{padding:"2px 6px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text-muted, #9ba1aa)",cursor:"pointer",fontSize:10},children:e.jsx(W,{size:10})})]},c)})})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)",marginBottom:8},children:"Commit Message"}),e.jsx("textarea",{value:s,onChange:c=>d(c.target.value),placeholder:"Enter commit message...",style:{width:"100%",minHeight:80,padding:8,background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",fontSize:12,fontFamily:"inherit",resize:"vertical",outline:"none"}})]}),e.jsxs("button",{onClick:g,disabled:!s.trim()||a.staged.length===0||o,style:{padding:"8px 16px",background:!s.trim()||a.staged.length===0||o?"var(--slate-border, #26292f)":"var(--slate-accent, #3f8cff)",border:"none",borderRadius:4,color:"#FFFFFF",cursor:!s.trim()||a.staged.length===0||o?"not-allowed":"pointer",fontSize:12,fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[e.jsx(ge,{size:14}),"Commit ",a.staged.length>0&&`(${a.staged.length} file${a.staged.length>1?"s":""})`]})]})};try{te.displayName="CommitPanel",te.__docgenInfo={description:"",displayName:"CommitPanel",props:{onCommit:{defaultValue:null,description:"",name:"onCommit",required:!1,type:{name:"((message: string) => void) | undefined"}}}}}catch{}const re=({onBranchChange:r})=>{const{status:a,getBranches:t,checkout:f,createBranch:o,isLoading:s}=T(),[d,l]=n.useState([]),[v,i]=n.useState(!1),[h,b]=n.useState(""),[p,g]=n.useState(!1);n.useEffect(()=>{(async()=>{const _=await t();l(_)})()},[t,a==null?void 0:a.current]);const c=async x=>{try{await f(x),i(!1),r==null||r(x)}catch(_){console.error("Failed to checkout branch:",_)}},j=async()=>{if(h.trim())try{await o(h.trim()),b(""),g(!1);const x=await t();l(x),await f(h.trim()),r==null||r(h.trim())}catch(x){console.error("Failed to create branch:",x)}},w=(a==null?void 0:a.current)||"main";return e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("button",{onClick:()=>i(!v),style:{display:"flex",alignItems:"center",gap:6,padding:"6px 12px",background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12},children:[e.jsx(B,{size:14}),e.jsx("span",{children:w})]}),v&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3},onClick:()=>i(!1)}),e.jsxs("div",{style:{position:"absolute",top:"100%",left:0,marginTop:4,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",zIndex:1001,minWidth:200,maxHeight:300,overflowY:"auto"},children:[d.map(x=>e.jsxs("button",{onClick:()=>c(x),style:{width:"100%",padding:"8px 12px",background:x===w?"rgba(63, 140, 255, 0.1)":"transparent",border:"none",textAlign:"left",color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12,display:"flex",alignItems:"center",justifyContent:"space-between"},onMouseEnter:_=>{x!==w&&(_.currentTarget.style.background="var(--slate-panel-hover, #1e2127)")},onMouseLeave:_=>{x!==w&&(_.currentTarget.style.background="transparent")},children:[e.jsx("span",{children:x}),x===w&&e.jsx(ge,{size:14,style:{color:"var(--slate-accent, #3f8cff)"}})]},x)),e.jsx("div",{style:{height:1,background:"var(--slate-border, #26292f)",margin:"4px 0"}}),p?e.jsxs("div",{style:{padding:8},children:[e.jsx("input",{type:"text",value:h,onChange:x=>b(x.target.value),onKeyDown:x=>{x.key==="Enter"?j():x.key==="Escape"&&(g(!1),b(""))},placeholder:"Branch name...",autoFocus:!0,style:{width:"100%",padding:"6px 8px",background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",fontSize:12,outline:"none",marginBottom:4}}),e.jsxs("div",{style:{display:"flex",gap:4},children:[e.jsx("button",{onClick:j,style:{flex:1,padding:"4px 8px",background:"var(--slate-accent, #3f8cff)",border:"none",borderRadius:4,color:"#FFFFFF",cursor:"pointer",fontSize:11},children:"Create"}),e.jsx("button",{onClick:()=>{g(!1),b("")},style:{flex:1,padding:"4px 8px",background:"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:11},children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>g(!0),style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",textAlign:"left",color:"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12,display:"flex",alignItems:"center",gap:6},onMouseEnter:x=>{x.currentTarget.style.background="var(--slate-panel-hover, #1e2127)"},onMouseLeave:x=>{x.currentTarget.style.background="transparent"},children:[e.jsx(W,{size:14}),"Create new branch"]})]})]})]})};try{re.displayName="BranchSelector",re.__docgenInfo={description:"",displayName:"BranchSelector",props:{onBranchChange:{defaultValue:null,description:"",name:"onBranchChange",required:!1,type:{name:"((branch: string) => void) | undefined"}}}}}catch{}const ae=({limit:r=50,onCommitSelect:a})=>{const{getCommits:t}=T(),[f,o]=n.useState([]),[s,d]=n.useState(!0);n.useEffect(()=>{(async()=>{d(!0);try{const i=await t(r);o(i)}catch(i){console.error("Failed to load commits:",i)}finally{d(!1)}})()},[t,r]);const l=v=>v.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?e.jsx("div",{style:{padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},children:"Loading commit history..."}):f.length===0?e.jsx("div",{style:{padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},children:"No commits found"}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,maxHeight:400,overflowY:"auto"},children:f.map(v=>e.jsxs("div",{onClick:()=>a==null?void 0:a(v),style:{padding:12,background:"var(--slate-bg, #0f1115)",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:i=>{i.currentTarget.style.background="var(--slate-panel-hover, #1e2127)"},onMouseLeave:i=>{i.currentTarget.style.background="var(--slate-bg, #0f1115)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx(le,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}),e.jsx("code",{style:{fontSize:11,color:"var(--slate-accent, #3f8cff)",fontFamily:'JetBrains Mono, Menlo, Monaco, "Courier New", monospace'},children:v.hash.substring(0,7)})]}),e.jsx("div",{style:{fontSize:13,fontWeight:500,color:"var(--slate-text, #e4e7eb)",marginBottom:8},children:v.message}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,fontSize:11,color:"var(--slate-text-muted, #9ba1aa)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(Ae,{size:12}),e.jsx("span",{children:v.author})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[e.jsx(Re,{size:12}),e.jsx("span",{children:l(v.date)})]})]})]},v.hash))})};try{ae.displayName="GitHistory",ae.__docgenInfo={description:"",displayName:"GitHistory",props:{limit:{defaultValue:{value:"50"},description:"",name:"limit",required:!1,type:{name:"number | undefined"}},onCommitSelect:{defaultValue:null,description:"",name:"onCommitSelect",required:!1,type:{name:"((commit: GitCommit) => void) | undefined"}}}}}catch{}const ne=({file:r,commitHash:a})=>{const{getDiff:t,status:f}=T(),[o,s]=n.useState(""),[d,l]=n.useState(!0),[v,i]=n.useState(new Set);n.useEffect(()=>{(async()=>{l(!0);try{const c=await t(r);s(c)}catch(c){console.error("Failed to load diff:",c),s("")}finally{l(!1)}})()},[t,r,a]);const b=(g=>{const c=[],j=g.split(`
`);let w="",x="",_=[];for(const R of j)R.startsWith("diff --git")?(w&&c.push({file:w,header:x,content:_.join(`
`)}),w=R.split(" ")[3]||"",x=R,_=[]):R.startsWith("---")||R.startsWith("+++")?x+=`
`+R:_.push(R);return w&&c.push({file:w,header:x,content:_.join(`
`)}),c})(o),p=g=>{i(c=>{const j=new Set(c);return j.has(g)?j.delete(g):j.add(g),j})};return d?e.jsx("div",{style:{padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},children:"Loading diff..."}):o?r&&b.length===1?e.jsx("div",{style:{height:"100%"},children:e.jsx(H,{value:o,language:"diff",height:"100%",theme:"vs-dark",options:{readOnly:!0,wordWrap:"on",lineNumbers:"on"}})}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,maxHeight:"100%",overflowY:"auto"},children:b.map(g=>{const c=v.has(g.file);return e.jsxs("div",{style:{border:"1px solid var(--slate-border, #26292f)",borderRadius:4,overflow:"hidden"},children:[e.jsxs("button",{onClick:()=>p(g.file),style:{width:"100%",display:"flex",alignItems:"center",gap:8,padding:"8px 12px",background:"var(--slate-bg, #0f1115)",border:"none",textAlign:"left",cursor:"pointer"},children:[c?e.jsx(Ee,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}):e.jsx(Me,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}),e.jsx(ye,{size:14,style:{color:"var(--slate-text-muted, #9ba1aa)"}}),e.jsx("span",{style:{fontSize:12,fontWeight:500,color:"var(--slate-text, #e4e7eb)"},children:g.file})]}),c&&e.jsx("div",{style:{borderTop:"1px solid var(--slate-border, #26292f)"},children:e.jsx(H,{value:g.header+`
`+g.content,language:"diff",height:"300px",theme:"vs-dark",options:{readOnly:!0,wordWrap:"on",lineNumbers:"on"}})})]},g.file)})}):e.jsx("div",{style:{padding:16,background:"var(--slate-panel, #16181d)",border:"1px solid var(--slate-border, #26292f)",borderRadius:8,color:"var(--slate-text-muted, #9ba1aa)",fontSize:12},children:"No changes to display"})};try{ne.displayName="GitDiffViewer",ne.__docgenInfo={description:"",displayName:"GitDiffViewer",props:{file:{defaultValue:null,description:"",name:"file",required:!1,type:{name:"string | undefined"}},commitHash:{defaultValue:null,description:"",name:"commitHash",required:!1,type:{name:"string | undefined"}}}}}catch{}const se=({workingDir:r=process.cwd()})=>{const[a,t]=n.useState("status");return e.jsx(Q,{workingDir:r,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"var(--slate-panel, #16181d)",borderLeft:"1px solid var(--slate-border, #26292f)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",borderBottom:"1px solid var(--slate-border, #26292f)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(B,{size:16,style:{color:"var(--slate-text, #e4e7eb)"}}),e.jsx("span",{style:{fontSize:14,fontWeight:500,color:"var(--slate-text, #e4e7eb)"},children:"Git"})]}),e.jsx(re,{})]}),e.jsx("div",{style:{display:"flex",borderBottom:"1px solid var(--slate-border, #26292f)"},children:[{id:"status",label:"Status",icon:B},{id:"commit",label:"Commit",icon:le},{id:"history",label:"History",icon:Ve},{id:"diff",label:"Diff",icon:ye}].map(f=>{const o=f.icon,s=a===f.id;return e.jsxs("button",{onClick:()=>t(f.id),style:{flex:1,padding:"8px 12px",background:s?"var(--slate-bg, #0f1115)":"transparent",border:"none",borderBottom:s?"2px solid var(--slate-accent, #3f8cff)":"2px solid transparent",color:s?"var(--slate-text, #e4e7eb)":"var(--slate-text-muted, #9ba1aa)",cursor:"pointer",fontSize:12,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[e.jsx(o,{size:14}),e.jsx("span",{children:f.label})]},f.id)})}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:16},children:[a==="status"&&e.jsx(ee,{showFiles:!0}),a==="commit"&&e.jsx(te,{}),a==="history"&&e.jsx(ae,{}),a==="diff"&&e.jsx(ne,{})]})]})})};try{se.displayName="GitPanel",se.__docgenInfo={description:"",displayName:"GitPanel",props:{workingDir:{defaultValue:{value:"process.cwd()"},description:"",name:"workingDir",required:!1,type:{name:"string | undefined"}}}}}catch{}const A=({primaryFilePath:r,secondaryFilePath:a,direction:t="horizontal",defaultSize:f=50,onPrimaryFileChange:o,onSecondaryFileChange:s})=>{const d=D(),[l,v]=n.useState(r),[i,h]=n.useState(a);return e.jsxs(ie,{direction:t,defaultSize:f,minSize:20,maxSize:80,children:[e.jsx("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:l?e.jsx(q,{filePath:l,height:"100%",onSave:b=>{d.writeFile(l,b)}}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"var(--slate-bg, #0f1115)",color:"var(--slate-text-muted, #9ba1aa)",fontSize:14},children:"No file open"})}),e.jsx("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:i?e.jsx(q,{filePath:i,height:"100%",onSave:b=>{d.writeFile(i,b)}}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"var(--slate-bg, #0f1115)",color:"var(--slate-text-muted, #9ba1aa)",fontSize:14},children:"No file open"})})]})};try{A.displayName="SplitEditor",A.__docgenInfo={description:"",displayName:"SplitEditor",props:{primaryFilePath:{defaultValue:null,description:"",name:"primaryFilePath",required:!1,type:{name:"string | undefined"}},secondaryFilePath:{defaultValue:null,description:"",name:"secondaryFilePath",required:!1,type:{name:"string | undefined"}},direction:{defaultValue:{value:"horizontal"},description:"",name:"direction",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"horizontal"'},{value:'"vertical"'}]}},defaultSize:{defaultValue:{value:"50"},description:"",name:"defaultSize",required:!1,type:{name:"number | undefined"}},onPrimaryFileChange:{defaultValue:null,description:"",name:"onPrimaryFileChange",required:!1,type:{name:"((path: string) => void) | undefined"}},onSecondaryFileChange:{defaultValue:null,description:"",name:"onSecondaryFileChange",required:!1,type:{name:"((path: string) => void) | undefined"}}}}}catch{}const pe=({initialFiles:r=[],showRuntime:a=!0,runtimeLayout:t="horizontal",showGit:f=!0,showSplitEditor:o=!1})=>{var R,V,z,C;const s=D(),{openFiles:d,activeFilePath:l,openFile:v,setActiveFile:i}=N(),[h,b]=n.useState(!0),[p,g]=n.useState(!1);G.useEffect(()=>{r.forEach(({path:m,content:u})=>{s.exists(m)||s.writeFile(m,u)})},[r,s]);const c=(m,u="")=>{if(!m||m.type==="file")return[];const S=[];for(const[M,y]of Object.entries(m.children||{})){const k=u?`${u}/${M}`:`/${M}`;y.type==="file"?S.push({name:M,type:"file",path:k}):S.push({name:M,type:"folder",path:k,children:c(y,k)})}return S},j=G.useMemo(()=>{const m=s.getSnapshot();return c(m)},[s]),w=m=>{v(m),i(m)},x=m=>{i(m)},_=m=>{const{closeFile:u}=N.getState();u(m)};return d.map(m=>({id:m.path,label:m.path.split("/").pop()||m.path,dirty:m.isDirty})),e.jsx(we,{sidebarVisible:!0,panelsVisible:!1,sidebar:e.jsx(Se,{files:j,onFileSelect:w,defaultExpanded:["/src","/components"]}),topBar:e.jsx(ke,{title:l?l.split("/").pop()||"Editor":"WISSIL IDE",showSaveIndicator:d.some(m=>m.isDirty),actions:f?e.jsx("button",{onClick:()=>g(!p),style:{padding:"6px 12px",background:p?"var(--slate-accent, #3f8cff)":"transparent",border:"1px solid var(--slate-border, #26292f)",borderRadius:4,color:p?"#FFFFFF":"var(--slate-text, #e4e7eb)",cursor:"pointer",fontSize:12},children:"Git"}):void 0}),children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(K,{onTabSelect:x,onTabClose:_}),e.jsxs("div",{style:{flex:1,display:"flex",position:"relative"},children:[a?e.jsxs(ie,{direction:t,defaultSize:50,minSize:20,maxSize:80,children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:o&&d.length>=2?e.jsx(A,{primaryFilePath:(R=d[0])==null?void 0:R.path,secondaryFilePath:(V=d[1])==null?void 0:V.path,direction:t==="horizontal"?"vertical":"horizontal"}):l?e.jsx(q,{filePath:l,height:"100%",onSave:m=>{s.writeFile(l,m)}}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"#0A0A0A",color:"#FFFFFF",fontSize:14},children:"Select a file from the explorer to start editing"})}),e.jsx(Z,{showPreview:h,showConsole:!0,showTerminal:!0,showBuildStatus:!0,layout:t==="horizontal"?"vertical":"horizontal"})]}):o&&d.length>=2?e.jsx(A,{primaryFilePath:(z=d[0])==null?void 0:z.path,secondaryFilePath:(C=d[1])==null?void 0:C.path,direction:"horizontal"}):l?e.jsx(q,{filePath:l,height:"100%",onSave:m=>{s.writeFile(l,m)}}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"#0A0A0A",color:"#FFFFFF",fontSize:14},children:"Select a file from the explorer to start editing"}),f&&p&&e.jsx("div",{style:{width:400,height:"100%"},children:e.jsx(se,{})})]})]})})};try{pe.displayName="EditorContainer",pe.__docgenInfo={description:"",displayName:"EditorContainer",props:{initialFiles:{defaultValue:{value:"[]"},description:"",name:"initialFiles",required:!1,type:{name:"{ path: string; content: string; }[] | undefined"}},showRuntime:{defaultValue:{value:"true"},description:"",name:"showRuntime",required:!1,type:{name:"boolean | undefined"}},runtimeLayout:{defaultValue:{value:"horizontal"},description:"",name:"runtimeLayout",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"horizontal"'},{value:'"vertical"'}]}},showGit:{defaultValue:{value:"true"},description:"",name:"showGit",required:!1,type:{name:"boolean | undefined"}},showSplitEditor:{defaultValue:{value:"false"},description:"",name:"showSplitEditor",required:!1,type:{name:"boolean | undefined"}}}}}catch{}export{pe as E,Q as G,q as M};
