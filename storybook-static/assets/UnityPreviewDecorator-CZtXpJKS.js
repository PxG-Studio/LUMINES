import{u as g,r as o,j as t}from"./iframe-BXkX_8oL.js";import{U as p}from"./unityBridge-ChVzu39L.js";function b({buildUrl:l="/UnityBuild",enabled:d=!0,height:n=500,children:c}){var y;const e=g(),i=o.useRef(null),[m,s]=o.useState(!1),[u,f]=o.useState(null);return o.useEffect(()=>{if(!d||!i.current)return;let a=!0;s(!0),f(null);async function x(){try{await p.loadInto(i.current,l),a&&s(!1)}catch(r){a&&(f((r==null?void 0:r.message)||String(r)),s(!1))}}return x(),()=>{a=!1,p.destroy()}},[l,d]),t.jsxs("div",{style:{padding:20},children:[t.jsxs("div",{ref:i,style:{width:"100%",height:typeof n=="number"?`${n}px`:n,background:e.colors.bg2||"#111",borderRadius:((y=e.radii)==null?void 0:y.md)||8,border:`1px solid ${e.colors.border||"#333"}`,position:"relative",overflow:"hidden",marginBottom:20},children:[m&&t.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.colors.text2||"#888",fontSize:14},children:"Loading Unity WebGL..."}),u&&t.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.colors.error||"#f44",fontSize:14,padding:20,textAlign:"center"},children:["Unity Load Error: ",u]})]}),c&&t.jsx("div",{style:{marginTop:20},children:c})]})}export{b as U};
