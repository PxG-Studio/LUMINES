import{c as o}from"./iframe-BXkX_8oL.js";const c=o(s=>({files:{},activeFile:null,openFiles:[],selectedFiles:[],selectedFile:null,buildStatus:"idle",cursorLine:1,cursorCol:1,runtimeMessages:[],runtimeError:null,setFiles:e=>{const i={};Object.entries(e).forEach(([l,r])=>{const n=typeof r=="string"?r:"code"in r?r.code:"";i[l]={path:l,content:n,isDirty:!1}}),s({files:i})},openFile:e=>s(i=>i.openFiles.includes(e)?i:{openFiles:[...i.openFiles,e],activeFile:e}),closeFile:e=>s(i=>({openFiles:i.openFiles.filter(l=>l!==e),activeFile:i.activeFile===e?i.openFiles[i.openFiles.length-2]||null:i.activeFile})),updateFile:(e,i)=>s(l=>({files:{...l.files,[e]:{...l.files[e],content:i,isDirty:!0}}})),createFile:(e,i)=>s(l=>({files:{...l.files,[e]:{path:e,content:i,isDirty:!1}},openFiles:[...l.openFiles,e],activeFile:e})),deleteFile:e=>s(i=>{const l={...i.files};return delete l[e],{files:l,openFiles:i.openFiles.filter(r=>r!==e),activeFile:i.activeFile===e?null:i.activeFile}}),setActiveFile:e=>s(i=>({activeFile:e,openFiles:i.openFiles.includes(e)?i.openFiles:[...i.openFiles,e]})),selectFiles:e=>s({selectedFiles:e}),setSelectedFile:e=>s({selectedFile:e}),setBuildStatus:e=>s({buildStatus:e}),setCursorPosition:(e,i)=>s({cursorLine:e,cursorCol:i}),pushMessage:e=>s(i=>({runtimeMessages:[...i.runtimeMessages,e]})),setRuntimeError:e=>s({runtimeError:e}),markDirty:(e,i)=>s(l=>({files:{...l.files,[e]:{...l.files[e],isDirty:i}}}))}));export{c as u};
